day05
복습 -> 타이타닉 데이터셋 -> 인코딩 방식

0. 복습
1) 교차검증
	K-Fold 교차검증
		데이터 준비 -> 데이터 분할 -> 모델학습과 평가 -> k번반복
	StratifiedKFold
		클래스 분포 확인 -> 폴드 생성 -> 모델학습과 평가 -> k번반복
	Cross_val_score()
		교차검증을 수행하여 모델 성능을 평가하는데 사용하는 함수
		지정된 모델과 데이터셋, 교차검증을 수행하는 방법을 매개변수로 받아
		정확도를 반환

2) 성능지표
	분류 문제
		정확도, 정밀도, 재현율, F1스코어
	회귀 문제
		평균제곱오차, 결정계수

1. 타이타닉 데이터셋
1) 컬럼별 의미
PassengerId	탑승자 데이터 일련번호
Survived	생존여부(0 : 사망, 1 : 생존)
Pclass		티켓 선실 등급(1 : 일등석, 2 : 이등석, 3 : 삼등석)
Name		탑승자 이름
Sex		탑승자 성별
Age		탑승자 나이
SibSp		같이 탑승한 형제, 자매 또는 배우자 인원	수
Parch		같이 탑승한 부모님 또는 어린이 인원 수
Ticket		티켓번호
Fare		요금
Cabin		선실번호
Embarked	중간정착항구(C : Cherbourg, Q : Queenstown, S = Sothampton)	

2. 인코딩 방식
	문자열 값들을 숫자형으로 인코딩하는 것을 의미
	전처리 단계에서 진행됨

1) 레이블 인코딩(Label Encoding)
	문자열값을 내림차순으로 정렬 후 0부터 1씩 증가하는 값으로 변환
	숫자의 차이가 모델에 영향을 주지않는 트리계열 모델에 적용(의사결정나무, 랜덤포레스트)
	숫자의 차이가 모델에 영향을 미치는 선형계열 모델에서는 사용하면안됨
	(로지스틱회귀, SVM, 신경망)

	fit()		어떻게 변환할 지 학습
	transform() 	문자열을 숫자로 변환
	fit_trainsform() 학습과 변환을 한번에 처리
	class_		인코딩한 클래스를 조회

문제점
	숫자값으로 변환되어 숫자의 ordinal 특성이 반영되기 때문에 독립적인 관측값의 간에
	관계성이 생김
	숫자값을 가중치로 잘못인식하여 값에 왜곡이 생김
	* ordinal 데이터의 값들이 순서 또는 순위를 가지고 있음을 나타내는데 사용됨

작동방식
	데이터 준비 -> 레이블 인코딩 적용(각 범주에 고유한 숫자값이 할당됨)

2) 원-핫 인코딩(One-Hot Encoding)
	목록화 해서 개별로 그 목록화에 대한 이진값으로 만드는 방법
	피처값의 유형에 따라 새로운 피처를 추가해 고유값에 해당하는 컬럼에는 1을 표시하고
	나머지 컬럼에는 0으로 표시하는 방법
	범주형 변수의 각 범주가 서로 독립적으로 다루어져야할 때 사용(선형모델에 주로 사용)

문제점
	범주의 수가 많거나 범주의 값이 매우 다양한 경우에는 피처(열)의 차원이 급격하게 증가할
	수가 잇어 차원의 저주(curse of dimensionality) 문제가 발생할 수 있음

작동방식
	데이터 준비 -> 원-핫 인코딩 적용
	(원래 범주에 해당하는 위치에 1을 할당하고 나머지 위치에는 0을 할당해서 표현)

3.  GridSearchCV
	하이퍼파라미터 튜닝시 사용함(최적의 하이퍼파라미터를 구할 때 사용한다)
	하이퍼파라미터 조합에 대한 교차검증을 수행하여 모델의 성능평가하고 최적의 하이퍼파라미터의
	조합을 찾는다

	estimator	튜닝하려는 모델의 객체를 지정
	param_grid	하이퍼파라미터의 조합을 딕셔너리 형태로 지정
	scoring		모델을 성능을 평가하는데 사용할 평가지표 지정(accuracy 등)
	cv		교차검증을 위해 몇개의 K-Fold로 나눌지 지정
	n_jobs 		병렬처리를 위해 사용할 CPU 코어수 지정(-1로 설정시 모든 코어를 사용)
	verbose		실행과정을 출력할 정도 설정(0:출력없음, 1:간단한출력, 2:자세한출력)
	return_trian_score	훈련데이터에 대한 점수를 반환할지 여부 설정

4. RandomForest
	앙상블(Ensemble) 기법 중 하나인 모델
	결정트리를 기반으로 하는 분류 및 회귀 알고리즘
	다수의 결정트리를 생성하고 각각의 결정트리로부터 얻은 예측결과를 조합하여
	정확하고 안정적인 예측을 수행함

	from sklearn.ensemble import RandomForestClassifier
	
	n_estimators	생성할 결정트리의 개수를 지정
	random_state	랜덤시드를 설정(결과의 재현성을 보장)




















